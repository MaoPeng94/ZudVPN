<!doctype html>
<html lang="en">
<head>
    <link rel="stylesheet" href="xterm.css" />
    <script src="xterm.js"></script>
    <script type="module" src="xterm-addon-fit.js"></script>
    <title>Terminal</title>
    <meta http-equiv="cache-control" content="max-age=0" />
    <meta http-equiv="cache-control" content="no-cache" />
    <meta http-equiv="expires" content="0" />
    <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
    <meta http-equiv="pragma" content="no-cache" />
</head>
<body style="background-color: black;">
<div id="terminal"></div>
<h1 style="font-family: 'Roboto', Helvetica, sans-serif;color: dimgray;">Terminal feature is experimental. Use at your own risk.</h1>
<script>
    setTimeout(() => {
        let terminal = window.terminal = new Terminal();
        let fitAddon = new FitAddon.FitAddon();
        terminal.loadAddon(fitAddon);
        terminal.setOption("fontSize", 20);
        terminal.open(document.getElementById('terminal'));
        fitAddon.fit();
        terminal.focus();

        window.addEventListener('resize', resizeScreen, false);

        terminal.onData(data => window.ReactNativeWebView.postMessage(JSON.stringify(data)));

        function resizeScreen () {
            fitAddon.fit();
        }
    }, 0);
</script>
</body>
</html>